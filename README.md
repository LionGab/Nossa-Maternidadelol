<div align="center">

# ğŸŒ¸ Nossa Maternidade

### Plataforma Digital de Bem-Estar Materno

*Um refÃºgio sem julgamentos para mÃ£es e gestantes*

[![TypeScript](https://img.shields.io/badge/TypeScript-5.6-blue.svg)](https://www.typescriptlang.org/)
[![React](https://img.shields.io/badge/React-18.3-61dafb.svg)](https://reactjs.org/)
[![Node.js](https://img.shields.io/badge/Node.js-20+-339933.svg)](https://nodejs.org/)
[![License](https://img.shields.io/badge/License-Proprietary-red.svg)](LICENSE)
[![Tests](https://img.shields.io/badge/Tests-100%20passing-success.svg)](tests/)
[![Build](https://img.shields.io/badge/Build-Passing-success.svg)](https://github.com/LionGab/Nossa-Maternidadelol)

[ğŸŒ Site Oficial](https://www.nossamaternidade.com.br/) Â· [ğŸ“– DocumentaÃ§Ã£o](docs/) Â· [ğŸ› Report Bug](https://github.com/LionGab/Nossa-Maternidadelol/issues) Â· [âœ¨ Request Feature](https://github.com/LionGab/Nossa-Maternidadelol/issues)

</div>

---

## ğŸ“‘ Ãndice

- [Sobre o Projeto](#-sobre-o-projeto)
- [Funcionalidades](#-funcionalidades)
- [Tech Stack](#-tech-stack)
- [ComeÃ§ando](#-comeÃ§ando)
  - [PrÃ©-requisitos](#prÃ©-requisitos)
  - [InstalaÃ§Ã£o](#instalaÃ§Ã£o)
  - [ConfiguraÃ§Ã£o](#configuraÃ§Ã£o)
  - [Desenvolvimento](#desenvolvimento)
- [Scripts DisponÃ­veis](#-scripts-disponÃ­veis)
- [Estrutura do Projeto](#-estrutura-do-projeto)
- [Arquitetura](#-arquitetura)
- [Deploy](#-deploy)
- [Testes](#-testes)
- [SeguranÃ§a](#-seguranÃ§a)
- [Performance](#-performance)
- [Contribuindo](#-contribuindo)
- [LicenÃ§a](#-licenÃ§a)
- [Contato](#-contato)
- [Agradecimentos](#-agradecimentos)

---

## ğŸ“± Sobre o Projeto

**Nossa Maternidade** Ã© uma plataforma digital inovadora criada pela influenciadora **NathÃ¡lia Valente** ([@nathaliavalente](https://instagram.com/nathaliavalente)), oferecendo um espaÃ§o seguro, acolhedor e livre de julgamentos para mÃ£es e gestantes em todas as fases da maternidade.

### ğŸ¯ MissÃ£o

Proporcionar suporte emocional, informaÃ§Ã£o confiÃ¡vel e ferramentas prÃ¡ticas para o bem-estar materno, combinando tecnologia de IA de ponta com empatia humana genuÃ­na.

### ğŸŒŸ Diferenciais

- âœ… **Sem Julgamentos**: EspaÃ§o 100% livre de crÃ­ticas e pressÃµes sociais
- ğŸ¤– **IA EmpÃ¡tica**: Assistentes de IA treinados especificamente para saÃºde materna
- ğŸ® **GamificaÃ§Ã£o**: Sistema motivacional com XP, streaks e achievements
- ğŸ‘¥ **Comunidade Real**: MÃ£es reais compartilhando experiÃªncias autÃªnticas
- ğŸ”’ **Privacidade**: Dados protegidos com criptografia e polÃ­ticas rigorosas

---

## âœ¨ Funcionalidades

### ğŸ’¬ NathIA - Assistente Virtual de IA

<img src="https://img.shields.io/badge/Powered%20by-Google%20Gemini%202.5-4285F4?logo=google&logoColor=white" alt="Gemini">

- Chat em tempo real com IA empÃ¡tica especializada em saÃºde mental materna
- Respostas personalizadas baseadas no contexto da usuÃ¡ria (fase da gestaÃ§Ã£o, objetivos)
- Suporte 24/7 sem julgamentos
- HistÃ³rico de conversas para acompanhamento contÃ­nuo
- DetecÃ§Ã£o inteligente de situaÃ§Ãµes que requerem ajuda profissional
- SugestÃµes de prompts contextuais

**Tecnologia**: Google Gemini 2.5 Flash com system prompts customizados

### ğŸŒŸ MÃ£e Valente - Pesquisa Inteligente

<img src="https://img.shields.io/badge/Powered%20by-Perplexity%20AI-20B2AA?logo=perplexity&logoColor=white" alt="Perplexity">

- Busca inteligente com respostas baseadas em fontes mÃ©dicas confiÃ¡veis
- 4 categorias de empoderamento:
  - ğŸ’ª **ForÃ§a Interior**: ResiliÃªncia e coragem
  - ğŸ§  **Sabedoria**: Conhecimento transformador
  - ğŸŒ¿ **Serenidade**: Paz e equilÃ­brio
  - ğŸ’ **Autoamor**: Cultivo do amor prÃ³prio
- Cache de respostas para economia de API
- Sistema de favoritos para salvar conteÃºdos importantes
- CitaÃ§Ãµes inspiracionais rotativas

**Tecnologia**: Perplexity AI com fontes verificadas

### âœ… HÃ¡bitos - Sistema Gamificado

- **Tracking DiÃ¡rio**: Acompanhamento visual de hÃ¡bitos saudÃ¡veis
- **Sistema de XP**: Ganhe 10 XP por hÃ¡bito completado
- **NÃ­veis**: Progrida atravÃ©s de nÃ­veis (Level = XP / 100 + 1)
- **Streaks**: SequÃªncias de dias consecutivos com bÃ´nus de motivaÃ§Ã£o
- **Achievements**: 12+ conquistas desbloqueÃ¡veis:
  - ğŸŒŸ Primeira Vez (completar primeiro hÃ¡bito)
  - ğŸ”¥ SequÃªncia de Fogo (7 dias seguidos)
  - ğŸ’¯ CentenÃ¡rio (100 XP)
  - ğŸ‘‘ Mestre (nÃ­vel 10)
  - E muito mais!
- **EstatÃ­sticas Semanais**: GrÃ¡ficos de progresso e insights
- **CustomizaÃ§Ã£o**: Escolha emoji e cor do gradiente para cada hÃ¡bito

### ğŸ¡ RefÃºgio Nath - Comunidade

- **4 Tipos de Posts**:
  - ğŸ’— Desabafo (atÃ© 300 caracteres)
  - ğŸ‰ VitÃ³ria (atÃ© 200 caracteres)
  - ğŸ¤ Apoio (atÃ© 300 caracteres)
  - ğŸ’­ ReflexÃ£o (atÃ© 400 caracteres)
- **InteraÃ§Ãµes Sociais**:
  - â¤ï¸ Curtidas e reaÃ§Ãµes
  - ğŸ’¬ ComentÃ¡rios e respostas
  - ğŸš© Sistema de denÃºncia/moderaÃ§Ã£o
- **Feed Inteligente**: Posts destacados e recentes
- **Avatares AutomÃ¡ticos**: Gerados via DiceBear API (estilo Lorelei feminino)
- **AutenticaÃ§Ã£o Segura**: Apenas usuÃ¡rios logados podem postar/comentar

### ğŸ“š Mundo Nath - ConteÃºdos Educativos

- Posts educativos sobre maternidade
- ConteÃºdos virais do TikTok e Instagram
- Dicas prÃ¡ticas do dia
- Sistema de favoritos
- Filtros por categoria e tipo

### ğŸ  Dashboard Inteligente

- Widget de chat rÃ¡pido para NathIA
- Progresso semanal de hÃ¡bitos
- Featured content do dia
- Posts em destaque da comunidade
- Atalhos para funcionalidades principais

---

## ğŸ›  Tech Stack

### Frontend

| Tecnologia | VersÃ£o | Uso |
|-----------|--------|-----|
| [React](https://reactjs.org/) | 18.3 | Framework UI |
| [TypeScript](https://www.typescriptlang.org/) | 5.6 | Type Safety |
| [Vite](https://vitejs.dev/) | 5.4 | Build Tool & Dev Server |
| [Wouter](https://github.com/molefrog/wouter) | 3.3 | Roteamento leve |
| [TanStack Query](https://tanstack.com/query) | 5.60 | State Management & Cache |
| [shadcn/ui](https://ui.shadcn.com/) | Latest | Componentes UI (Radix UI) |
| [Tailwind CSS](https://tailwindcss.com/) | 3.4 | EstilizaÃ§Ã£o utilitÃ¡ria |
| [Framer Motion](https://www.framer.com/motion/) | 11.13 | AnimaÃ§Ãµes |
| [Lucide React](https://lucide.dev/) | 0.453 | Ãcones |
| [React Hook Form](https://react-hook-form.com/) | 7.55 | FormulÃ¡rios |
| [Zod](https://zod.dev/) | 3.24 | ValidaÃ§Ã£o de schemas |

### Backend

| Tecnologia | VersÃ£o | Uso |
|-----------|--------|-----|
| [Node.js](https://nodejs.org/) | 20+ | Runtime |
| [Express](https://expressjs.com/) | 4.21 | Framework HTTP |
| [TypeScript](https://www.typescriptlang.org/) | 5.6 | Type Safety |
| [Drizzle ORM](https://orm.drizzle.team/) | 0.39 | ORM para PostgreSQL |
| [Neon](https://neon.tech/) | Latest | PostgreSQL Serverless |
| [Passport.js](http://www.passportjs.org/) | 0.7 | AutenticaÃ§Ã£o |
| [Express Session](https://github.com/expressjs/session) | 1.18 | Gerenciamento de sessÃµes |
| [Pino](https://getpino.io/) | 10.1 | Logging estruturado |
| [Helmet](https://helmetjs.github.io/) | 8.1 | SeguranÃ§a HTTP headers |
| [Express Rate Limit](https://github.com/express-rate-limit/express-rate-limit) | 8.2 | Rate limiting |

### IA & IntegraÃ§Ãµes

| ServiÃ§o | Uso |
|---------|-----|
| [Google Gemini 2.5 Flash](https://ai.google.dev/) | Chat NathIA |
| [Perplexity AI](https://www.perplexity.ai/) | Busca MÃ£e Valente |
| [Supabase](https://supabase.com/) | Backend as a Service (opcional) |
| [DiceBear API](https://www.dicebear.com/) | GeraÃ§Ã£o de avatares |

### DevOps & Tools

| Ferramenta | Uso |
|-----------|-----|
| [Vitest](https://vitest.dev/) | Framework de testes |
| [ESLint](https://eslint.org/) | Linting |
| [esbuild](https://esbuild.github.io/) | Bundler backend |
| [tsx](https://github.com/privatenumber/tsx) | TypeScript execution |
| [Vercel](https://vercel.com/) | Deploy & Hosting |

---

## ğŸš€ ComeÃ§ando

### PrÃ©-requisitos

Certifique-se de ter instalado:

- **Node.js**: versÃ£o 20 ou superior
- **npm**: versÃ£o 10 ou superior
- **Git**: Ãºltima versÃ£o

```bash
# Verificar versÃµes
node --version  # deve ser >= 20.0.0
npm --version   # deve ser >= 10.0.0
```

### InstalaÃ§Ã£o

1. **Clone o repositÃ³rio**

```bash
git clone https://github.com/LionGab/Nossa-Maternidadelol.git
cd Nossa-Maternidadelol
```

2. **Instale as dependÃªncias**

```bash
npm install
```

Isso irÃ¡ instalar:
- 112 dependÃªncias de produÃ§Ã£o
- 46 devDependencies
- Total: ~665 pacotes

### ConfiguraÃ§Ã£o

3. **Configure as variÃ¡veis de ambiente**

```bash
# Copie o arquivo de exemplo
cp .env.example .env

# Edite o arquivo .env
nano .env
# ou
code .env
```

4. **Obtenha as chaves de API necessÃ¡rias**

| VariÃ¡vel | Obter em | NecessÃ¡ria? |
|----------|----------|-------------|
| `GEMINI_API_KEY` | [Google AI Studio](https://aistudio.google.com/app/apikey) | âœ… Sim |
| `PERPLEXITY_API_KEY` | [Perplexity Settings](https://www.perplexity.ai/settings/api) | âœ… Sim |
| `SESSION_SECRET` | Gerar: `openssl rand -base64 32` | âœ… Sim |
| `DATABASE_URL` | [Neon Console](https://console.neon.tech/) | âš ï¸ Opcional* |
| `EXPO_PUBLIC_SUPABASE_URL` | [Supabase Dashboard](https://supabase.com/dashboard) | âš ï¸ Opcional* |

*Opcional: O app funciona com MemStorage (dados em memÃ³ria) para desenvolvimento.

**Guias detalhados:**
- ğŸ“– [Como Gerar SESSION_SECRET](./COMO_GERAR_SESSION_SECRET.md)
- ğŸ“– [Como Instalar](./COMO_INSTALAR.md)
- ğŸ“– [Setup Completo](./SETUP.md)

5. **Gere o SESSION_SECRET**

```bash
# Linux/Mac
openssl rand -base64 32

# Windows PowerShell
[Convert]::ToBase64String((1..32 | ForEach-Object { Get-Random -Minimum 0 -Maximum 256 }))

# Copie a saÃ­da e cole no .env
```

### Desenvolvimento

6. **Inicie o servidor de desenvolvimento**

```bash
npm run dev
```

O app estarÃ¡ disponÃ­vel em:
- **Frontend**: http://localhost:5000
- **Backend API**: http://localhost:5000/api
- **Hot Reload**: Habilitado (Vite HMR)

7. **Acesse a aplicaÃ§Ã£o**

Abra http://localhost:5000 no navegador

---

## ğŸ“œ Scripts DisponÃ­veis

### Desenvolvimento

```bash
npm run dev          # Inicia dev server (frontend + backend)
npm run dev:clean    # Limpa cache e inicia dev server
npm run check        # Verifica tipos TypeScript (sem build)
npm run type-check   # Alias para check
```

### Build & ProduÃ§Ã£o

```bash
npm run build        # Build completo (Vite + esbuild)
npm start            # Inicia servidor em produÃ§Ã£o
npm run analyze      # Analisa tamanho do bundle
```

### Database

```bash
npm run db:push      # Push schema para database
npm run db:generate  # Gera migrations
npm run db:migrate   # Executa migrations
npm run db:studio    # Abre Drizzle Studio (GUI)
```

### Testes

```bash
npm test             # Executa todos os testes
npm run test:watch   # Modo watch
npm run test:ui      # Interface visual (Vitest UI)
npm run test:coverage # RelatÃ³rio de cobertura
```

### Qualidade de CÃ³digo

```bash
npm run lint         # ESLint com zero warnings
npm run lint:fix     # Auto-fix de problemas
```

### UtilitÃ¡rios

```bash
npm run clean        # Remove dist e cache
npm run clean:all    # Limpeza completa (inclui node_modules/.cache)
npm run setup        # Script de setup inicial
npm run generate:session-secret  # Gera SESSION_SECRET
```

---

## ğŸ“‚ Estrutura do Projeto

```
nossa-maternidade/
â”œâ”€â”€ ğŸ“ client/                    # Frontend React
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/          # Componentes reutilizÃ¡veis
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/              # shadcn/ui components
â”‚   â”‚   â”‚   â””â”€â”€ landing/         # Componentes da landing page
â”‚   â”‚   â”œâ”€â”€ pages/               # PÃ¡ginas da aplicaÃ§Ã£o
â”‚   â”‚   â”‚   â”œâ”€â”€ NathIA.tsx       # Chat IA
â”‚   â”‚   â”‚   â”œâ”€â”€ MaeValente.tsx   # Busca inteligente
â”‚   â”‚   â”‚   â”œâ”€â”€ Habitos.tsx      # GamificaÃ§Ã£o
â”‚   â”‚   â”‚   â”œâ”€â”€ RefugioNath.tsx  # Comunidade
â”‚   â”‚   â”‚   â”œâ”€â”€ MundoNath.tsx    # ConteÃºdos
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx    # Hub central
â”‚   â”‚   â”‚   â”œâ”€â”€ Landing.tsx      # PÃ¡gina inicial
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ hooks/               # Custom React hooks
â”‚   â”‚   â”œâ”€â”€ lib/                 # UtilitÃ¡rios e configuraÃ§Ãµes
â”‚   â”‚   â”‚   â”œâ”€â”€ queryClient.ts   # TanStack Query config
â”‚   â”‚   â”‚   â””â”€â”€ utils.ts         # FunÃ§Ãµes utilitÃ¡rias
â”‚   â”‚   â””â”€â”€ App.tsx              # App principal
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ ğŸ“ server/                    # Backend Express
â”‚   â”œâ”€â”€ index.ts                 # Entry point + Express setup
â”‚   â”œâ”€â”€ routes.ts                # Rotas da API
â”‚   â”œâ”€â”€ auth-routes.ts           # Rotas de autenticaÃ§Ã£o
â”‚   â”œâ”€â”€ auth.ts                  # Passport.js config
â”‚   â”œâ”€â”€ storage.ts               # Interface de storage
â”‚   â”œâ”€â”€ storage/
â”‚   â”‚   â”œâ”€â”€ mem-storage.ts       # MemStorage (desenvolvimento)
â”‚   â”‚   â””â”€â”€ drizzle-storage.ts   # DrizzleStorage (produÃ§Ã£o)
â”‚   â”œâ”€â”€ gemini.ts                # IntegraÃ§Ã£o Google Gemini
â”‚   â”œâ”€â”€ perplexity.ts            # IntegraÃ§Ã£o Perplexity AI
â”‚   â”œâ”€â”€ logger.ts                # Pino logger config
â”‚   â”œâ”€â”€ rate-limit.ts            # Rate limiters
â”‚   â”œâ”€â”€ validation.ts            # Zod schemas
â”‚   â”œâ”€â”€ pagination.ts            # PaginaÃ§Ã£o utilitÃ¡ria
â”‚   â”œâ”€â”€ avatar.ts                # GeraÃ§Ã£o de avatares
â”‚   â””â”€â”€ db.ts                    # Drizzle config
â”œâ”€â”€ ğŸ“ shared/                    # CÃ³digo compartilhado
â”‚   â””â”€â”€ schema.ts                # Schemas Drizzle + tipos
â”œâ”€â”€ ğŸ“ tests/                     # Testes
â”‚   â”œâ”€â”€ server/
â”‚   â”‚   â”œâ”€â”€ unit/                # Testes unitÃ¡rios backend
â”‚   â”‚   â””â”€â”€ integration/         # Testes de integraÃ§Ã£o
â”‚   â””â”€â”€ unit/
â”‚       â””â”€â”€ server/              # Mais testes unitÃ¡rios
â”œâ”€â”€ ğŸ“ scripts/                   # Scripts utilitÃ¡rios
â”‚   â”œâ”€â”€ setup.js
â”‚   â”œâ”€â”€ postinstall.js
â”‚   â””â”€â”€ generate-session-secret.js
â”œâ”€â”€ ğŸ“ attached_assets/           # Imagens e recursos
â”œâ”€â”€ ğŸ“ docs/                      # DocumentaÃ§Ã£o adicional
â”œâ”€â”€ ğŸ“ .github/                   # GitHub configs
â”‚   â”œâ”€â”€ workflows/               # CI/CD
â”‚   â””â”€â”€ ISSUE_TEMPLATE/
â”œâ”€â”€ ğŸ“„ .env.example               # Exemplo de variÃ¡veis
â”œâ”€â”€ ğŸ“„ .gitignore                 # Arquivos ignorados
â”œâ”€â”€ ğŸ“„ package.json               # DependÃªncias e scripts
â”œâ”€â”€ ğŸ“„ tsconfig.json              # TypeScript config
â”œâ”€â”€ ğŸ“„ vite.config.ts             # Vite config
â”œâ”€â”€ ğŸ“„ vitest.config.ts           # Vitest config
â”œâ”€â”€ ğŸ“„ drizzle.config.ts          # Drizzle ORM config
â”œâ”€â”€ ğŸ“„ tailwind.config.ts         # Tailwind config
â”œâ”€â”€ ğŸ“„ README.md                  # Este arquivo
â”œâ”€â”€ ğŸ“„ COMO_GERAR_SESSION_SECRET.md
â”œâ”€â”€ ğŸ“„ COMO_INSTALAR.md
â”œâ”€â”€ ğŸ“„ DEPLOY-STATUS.md
â”œâ”€â”€ ğŸ“„ SEGURANCA_URGENTE.md
â”œâ”€â”€ ğŸ“„ CLAUDE.md                  # Docs para Claude Code
â””â”€â”€ ğŸ“„ PROJETO_STATUS.md
```

---

## ğŸ— Arquitetura

### Frontend Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         React App (Vite)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Wouter Router                      â”‚
â”‚  â”œâ”€ /               â†’ Landing       â”‚
â”‚  â”œâ”€ /dashboard      â†’ Dashboard     â”‚
â”‚  â”œâ”€ /nathia         â†’ NathIA        â”‚
â”‚  â”œâ”€ /mae-valente    â†’ MÃ£eValente    â”‚
â”‚  â”œâ”€ /habitos        â†’ HÃ¡bitos       â”‚
â”‚  â””â”€ /refugio        â†’ RefugioNath   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  TanStack Query (State + Cache)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  shadcn/ui + Tailwind CSS           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Backend Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Express.js Server             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Middleware Stack:                  â”‚
â”‚  â”œâ”€ Helmet (Security)               â”‚
â”‚  â”œâ”€ CORS                            â”‚
â”‚  â”œâ”€ Compression                     â”‚
â”‚  â”œâ”€ Express Session                 â”‚
â”‚  â”œâ”€ Passport.js (Auth)              â”‚
â”‚  â””â”€ Rate Limiting                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Routes:                            â”‚
â”‚  â”œâ”€ /api/auth/*      â†’ Auth         â”‚
â”‚  â”œâ”€ /api/nathia/*    â†’ Gemini AI    â”‚
â”‚  â”œâ”€ /api/mae-valente/* â†’ Perplexity â”‚
â”‚  â”œâ”€ /api/habits/*    â†’ HÃ¡bitos      â”‚
â”‚  â”œâ”€ /api/community/* â†’ Comunidade   â”‚
â”‚  â””â”€ /api/stats/*     â†’ EstatÃ­sticas â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Storage Layer (Interface):         â”‚
â”‚  â”œâ”€ MemStorage (Dev)                â”‚
â”‚  â””â”€ DrizzleStorage (Prod)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  External APIs:                     â”‚
â”‚  â”œâ”€ Google Gemini                   â”‚
â”‚  â”œâ”€ Perplexity AI                   â”‚
â”‚  â””â”€ DiceBear                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Database Schema (Drizzle ORM)

**20+ Tabelas Organizadas por Feature:**

- **Auth**: `users`, `profiles`, `subscriptions`
- **Content**: `posts`, `viralPosts`, `tips`, `dailyFeatured`
- **AI**: `aiSessions`, `aiMessages`, `qaCache`, `savedQa`
- **Habits**: `habits`, `habitCompletions`, `userStats`, `achievements`, `userAchievements`
- **Social**: `communityPosts`, `comments`, `reactions`, `reports`, `dailyQuestions`
- **Favorites**: `favorites`

---

## ğŸš€ Deploy

### Vercel (Recomendado)

1. **Instale o Vercel CLI**

```bash
npm install -g vercel
```

2. **Configure variÃ¡veis de ambiente**

```bash
# Via CLI
vercel env add GEMINI_API_KEY production
vercel env add PERPLEXITY_API_KEY production
vercel env add SESSION_SECRET production
vercel env add DATABASE_URL production

# Ou via Dashboard: https://vercel.com/seu-projeto/settings/environment-variables
```

3. **Deploy**

```bash
# Deploy de preview
vercel

# Deploy de produÃ§Ã£o
vercel --prod
```

### Railway

```bash
# Instalar CLI
npm install -g @railway/cli

# Login
railway login

# Deploy
railway up
```

### Render

1. Conecte seu repositÃ³rio GitHub
2. Configure variÃ¡veis de ambiente no dashboard
3. Deploy automÃ¡tico em cada push

**ğŸ“– Guia completo**: [DEPLOY-STATUS.md](./DEPLOY-STATUS.md)

---

## ğŸ§ª Testes

### Executar Testes

```bash
# Todos os testes
npm test

# Testes unitÃ¡rios
npm test tests/server/unit/ tests/unit/

# Com coverage
npm run test:coverage

# Modo watch
npm run test:watch

# UI interativa
npm run test:ui
```

### Cobertura Atual

```
âœ… Test Files: 7 passed (7)
âœ… Tests: 100 passed (100)
âœ… Duration: ~1s
```

**Testes incluem:**
- âœ… ValidaÃ§Ã£o de schemas (Zod)
- âœ… ConfiguraÃ§Ã£o de agentes de IA
- âœ… Rate limiting
- âœ… PaginaÃ§Ã£o
- âœ… GamificaÃ§Ã£o (XP, streaks, achievements)
- âœ… Constantes e utilitÃ¡rios

---

## ğŸ”’ SeguranÃ§a

### ImplementaÃ§Ãµes de SeguranÃ§a

âœ… **Rate Limiting** (5 endpoints protegidos)
- AI Chat: 10 req/min
- AI Search: 5 req/min
- Auth: 5 attempts/15min

âœ… **Input Validation** (8 Zod schemas)
- Previne SQL injection
- Previne XSS
- Valida todos os inputs do usuÃ¡rio

âœ… **Environment Validation**
- ProduÃ§Ã£o requer SESSION_SECRET mÃ­nimo de 32 chars
- Valida DATABASE_URL

âœ… **Password Security**
- Hashing com scrypt + salt
- Nunca armazena senhas em texto plano

âœ… **Session Security**
- Express-session com cookies httpOnly
- Secure cookies em produÃ§Ã£o (HTTPS)

âœ… **Structured Logging**
- Pino logger com JSON output
- Auto-redaÃ§Ã£o de dados sensÃ­veis
- Request IDs para tracing

âœ… **Helmet.js**
- Security headers configurados
- XSS protection
- MIME type sniffing protection

**ğŸ“– Guia completo**: [SECURITY_IMPROVEMENTS.md](./SECURITY_IMPROVEMENTS.md)
**ğŸš¨ Em caso de vazamento**: [SEGURANCA_URGENTE.md](./SEGURANCA_URGENTE.md)

---

## âš¡ Performance

### OtimizaÃ§Ãµes Implementadas

âœ… **N+1 Query Optimization**
- Batch loading com `getHabitCompletionsByHabitIds()`
- ReduÃ§Ã£o de 155 queries â†’ 1 query
- 99.4% melhoria de latÃªncia (7.75s â†’ 50ms)

âœ… **API Pagination**
- Default: 20 items/page, max 100
- 3 rotas paginadas
- 98% reduÃ§Ã£o de payload (5MB â†’ 100KB)

âœ… **Q&A Response Caching**
- Cache de 7 dias
- MD5 hash keys
- Reduz custos de API

âœ… **Build Optimization**
- Code splitting automÃ¡tico (Vite)
- Tree shaking
- Minification (esbuild)
- Gzip compression

âœ… **Asset Optimization**
- Lazy loading de imagens
- Componentes code-split por rota
- React.lazy() para pÃ¡ginas

**MÃ©tricas:**
- Build time: ~10s
- Bundle size (frontend): ~600KB gzipped
- Time to Interactive: < 2s
- Lighthouse Score: 90+

**ğŸ“– RelatÃ³rio completo**: [OPTIMIZATION_REPORT.md](./OPTIMIZATION_REPORT.md)

---

## ğŸ¤ Contribuindo

ContribuiÃ§Ãµes sÃ£o bem-vindas! Este projeto estÃ¡ em fase de desenvolvimento.

### Como Contribuir

1. Fork o projeto
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudanÃ§as (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

### Guidelines

- âœ… Siga o style guide do projeto (ESLint)
- âœ… Adicione testes para novas features
- âœ… Atualize a documentaÃ§Ã£o se necessÃ¡rio
- âœ… Use Conventional Commits
- âœ… Mantenha o coverage de testes acima de 80%

### Pull Request Template

Use o template em [`.github/pull_request_template.md`](./.github/pull_request_template.md)

---

## ğŸ“„ LicenÃ§a

Este projeto Ã© propriedade de **NathÃ¡lia Valente**. Todos os direitos reservados.

Para uso comercial ou licenciamento, entre em contato atravÃ©s do [site oficial](https://www.nossamaternidade.com.br/).

---

## ğŸ“ Contato

### NathÃ¡lia Valente

- ğŸŒ Website: [www.nossamaternidade.com.br](https://www.nossamaternidade.com.br/)
- ğŸ“¸ Instagram: [@nathaliavalente](https://instagram.com/nathaliavalente)
- ğŸ“§ Email: contato@nossamaternidade.com.br

### Equipe de Desenvolvimento

- ğŸ› Issues: [GitHub Issues](https://github.com/LionGab/Nossa-Maternidadelol/issues)
- ğŸ’¡ Feature Requests: [GitHub Issues](https://github.com/LionGab/Nossa-Maternidadelol/issues/new?template=feature_request.md)
- ğŸ”’ Security: [Security Policy](https://github.com/LionGab/Nossa-Maternidadelol/security/policy)

---

## ğŸ’ Agradecimentos

Criado com carinho para mÃ£es e gestantes que merecem apoio, acolhimento e compreensÃ£o em sua jornada.

### Tecnologias & Comunidades

- [Vercel](https://vercel.com/) - Hosting e deploy
- [Neon](https://neon.tech/) - PostgreSQL serverless
- [Google AI](https://ai.google.dev/) - Gemini API
- [Perplexity](https://www.perplexity.ai/) - Search API
- [shadcn/ui](https://ui.shadcn.com/) - Componentes UI incrÃ­veis
- Comunidade Open Source â¤ï¸

### InspiraÃ§Ã£o

Este projeto foi inspirado pela missÃ£o de criar um espaÃ§o onde **TODAS as mÃ£es** se sintam:
- âœ¨ Acolhidas
- ğŸ’ª Empoderadas
- ğŸ¤— Compreendidas
- ğŸ’– Amadas

---

<div align="center">

### ğŸŒ¸ Nossa Maternidade

**Um refÃºgio sem julgamentos**

[www.nossamaternidade.com.br](https://www.nossamaternidade.com.br/)

*Desenvolvido com â¤ï¸ pela equipe NathÃ¡lia Valente*

---

â­ Se este projeto te ajudou, considere dar uma estrela!

[![GitHub stars](https://img.shields.io/github/stars/LionGab/Nossa-Maternidadelol?style=social)](https://github.com/LionGab/Nossa-Maternidadelol/stargazers)

</div>

---

## ğŸ“± Sobre o Projeto

**Nossa Maternidade** Ã© uma plataforma digital inovadora criada pela influenciadora **NathÃ¡lia Valente** (@nathaliavalente), oferecendo um espaÃ§o seguro, acolhedor e livre de julgamentos para mÃ£es e gestantes em todas as fases da maternidade.

### ğŸ¯ MissÃ£o

Proporcionar suporte emocional, informaÃ§Ã£o confiÃ¡vel e ferramentas prÃ¡ticas para o bem-estar materno, combinando tecnologia de IA com empatia humana.

### âœ¨ Funcionalidades Principais

| Funcionalidade | DescriÃ§Ã£o |
|---------------|-----------|
| ğŸ’¬ **NathIA** | Assistente de IA empÃ¡tica especializada em saÃºde mental materna, powered by Google Gemini 2.5 Flash |
| ğŸŒŸ **MÃ£e Valente** | Busca inteligente com respostas baseadas em fontes confiÃ¡veis, powered by Perplexity AI |
| âœ… **HÃ¡bitos** | Sistema gamificado de tracking de hÃ¡bitos com streaks, XP, nÃ­veis e achievements |
| ğŸ¡ **RefÃºgio Nath** | Comunidade segura para desabafos, perguntas e apoio mÃºtuo entre mÃ£es |
| ğŸ“š **Mundo Nath** | ConteÃºdos educativos, dicas prÃ¡ticas e posts virais do Instagram/TikTok |

## ğŸ¯ Funcionalidades Principais

### NathIA - Assistente Virtual
- Chat empÃ¡tico e acolhedor com IA
- Respostas personalizadas sobre maternidade
- Suporte emocional sem julgamentos
- HistÃ³rico de conversas

### MÃ£e Valente - Pesquisa Inteligente
- Busca sobre saÃºde mental materna
- InformaÃ§Ãµes baseadas em fontes confiÃ¡veis
- TÃ³picos sobre ansiedade, burnout materno, autocuidado
- Recursos de emergÃªncia (CVV, SAMU)
- Salvamento de respostas importantes

### HÃ¡bitos SaudÃ¡veis
- Rastreamento diÃ¡rio de hÃ¡bitos
- Sistema de sequÃªncias (streaks)
- EstatÃ­sticas semanais
- Interface gamificada e motivacional

### Mundo Nath
- ConteÃºdos virais do TikTok e Instagram
- Posts educativos sobre maternidade
- Dicas prÃ¡ticas do dia
- Sistema de favoritos

## ğŸ›  Tecnologias

### Frontend
- **React** + **TypeScript** - Interface moderna e tipada
- **Wouter** - Roteamento leve
- **TanStack Query** - Gerenciamento de estado e cache
- **shadcn/ui** - Componentes UI elegantes
- **Tailwind CSS** - EstilizaÃ§Ã£o responsiva
- **Vite** - Build tool ultrarrÃ¡pido

### Backend
- **Node.js** + **Express** - API REST
- **TypeScript** - CÃ³digo tipado e seguro
- **In-Memory Storage** - PersistÃªncia de dados

### IA e IntegraÃ§Ãµes
- **Gemini AI** (via Replit AI Integrations) - Assistente NathIA
- **Perplexity AI** - Busca inteligente MÃ£e Valente

## ğŸš€ Como Rodar o Projeto

### PrÃ©-requisitos
- Node.js 20+
- npm ou yarn

### InstalaÃ§Ã£o

```bash
# Clone o repositÃ³rio
git clone https://github.com/seu-usuario/nossa-maternidade.git
cd nossa-maternidade

# Instale as dependÃªncias
npm install

# Configure as variÃ¡veis de ambiente
# Copie o arquivo .env.example para .env e preencha as chaves necessÃ¡rias

# Inicie o servidor de desenvolvimento
npm run dev
```

O aplicativo estarÃ¡ disponÃ­vel em `http://localhost:5000`

## ğŸ“ VariÃ¡veis de Ambiente

```env
# Gemini AI (via Replit AI Integrations)
AI_INTEGRATIONS_GEMINI_API_KEY=your_key_here
AI_INTEGRATIONS_GEMINI_BASE_URL=your_url_here

# Perplexity AI (MÃ£e Valente)
PERPLEXITY_API_KEY=your_key_here
```

## ğŸ“‚ Estrutura do Projeto

```
nossa-maternidade/
â”œâ”€â”€ client/               # Frontend React
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/  # Componentes reutilizÃ¡veis
â”‚   â”‚   â”œâ”€â”€ pages/       # PÃ¡ginas da aplicaÃ§Ã£o
â”‚   â”‚   â””â”€â”€ lib/         # UtilitÃ¡rios e configuraÃ§Ãµes
â”œâ”€â”€ server/              # Backend Express
â”‚   â”œâ”€â”€ routes.ts        # Rotas da API
â”‚   â”œâ”€â”€ storage.ts       # Camada de persistÃªncia
â”‚   â”œâ”€â”€ gemini.ts        # IntegraÃ§Ã£o NathIA
â”‚   â””â”€â”€ perplexity.ts    # IntegraÃ§Ã£o MÃ£e Valente
â”œâ”€â”€ shared/              # CÃ³digo compartilhado
â”‚   â””â”€â”€ schema.ts        # Schemas e tipos
â””â”€â”€ attached_assets/     # Imagens e recursos
```

## ğŸ¨ Design e UX

- Interface responsiva (mobile-first)
- Tema claro/escuro
- Paleta de cores suaves e acolhedoras
- AnimaÃ§Ãµes sutis e feedback visual
- Acessibilidade em primeiro lugar

## ğŸ”’ SeguranÃ§a e Privacidade

- Dados armazenados localmente no ambiente de desenvolvimento
- ComunicaÃ§Ã£o segura com APIs de IA
- Sem coleta de dados pessoais sensÃ­veis
- Recursos de emergÃªncia sempre acessÃ­veis

## ğŸ¤– AutomaÃ§Ã£o e CI/CD

### GitHub Actions Workflows

Este projeto possui automaÃ§Ã£o completa via GitHub Actions:

#### 1. **CI Workflow** - IntegraÃ§Ã£o ContÃ­nua
- âœ… TypeScript type checking
- âœ… Build verification
- âœ… Security audit
- âœ… Schema validation
- **Trigger:** Push/PR para `main` ou `develop`

#### 2. **Deploy Workflow** - Deploy AutomÃ¡tico
- ğŸš€ Deploy para Vercel
- ğŸ—„ï¸ Database migrations
- ğŸ” Health check validation
- **Trigger:** Push para `main`

#### 3. **Neon Branch Workflow** - Database Branching
- ğŸŒ¿ Cria database branch para cada PR
- ğŸ“Š Roda migrations automaticamente
- ğŸ“ Posta schema diff como comentÃ¡rio
- ğŸ—‘ï¸ Deleta branch ao fechar PR (expira em 2 semanas)
- **Trigger:** PR opened/reopened/synchronize/closed

#### 4. **Dependabot** - AtualizaÃ§Ãµes AutomÃ¡ticas
- ğŸ“¦ Updates semanais de npm (segundas, 9h)
- ğŸ”§ Updates mensais de GitHub Actions

### Setup dos Secrets

Para habilitar os workflows, configure em **Settings â†’ Secrets and variables â†’ Actions**:

**Secrets:**
```bash
NEON_API_KEY          # Neon Dashboard â†’ Account Settings â†’ API Keys
VERCEL_TOKEN          # Vercel â†’ Account Settings â†’ Tokens
GEMINI_API_KEY        # Google AI Studio
PERPLEXITY_API_KEY    # Perplexity API
SESSION_SECRET        # openssl rand -base64 32
DATABASE_URL          # Neon connection string
```

**Variables:**
```bash
NEON_PROJECT_ID       # Neon Dashboard â†’ Project Settings â†’ General
VERCEL_ORG_ID         # Vercel Dashboard â†’ Settings â†’ General
VERCEL_PROJECT_ID     # Vercel Project Settings â†’ General
```

Veja o guia completo em [`DEPLOYMENT.md`](./DEPLOYMENT.md)

## ğŸ¤ Contribuindo

ContribuiÃ§Ãµes sÃ£o bem-vindas! Este projeto estÃ¡ em fase de desenvolvimento e teste fechado.

### Como contribuir com PRs

1. Fork o repositÃ³rio
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudanÃ§as (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

**AutomaÃ§Ãµes no PR:**
- âœ… CI roda automaticamente (typecheck, build, security)
- ğŸ—„ï¸ Database branch de preview Ã© criado
- ğŸ“Š Schema diff Ã© postado como comentÃ¡rio
- ğŸ” PR template guia a descriÃ§Ã£o

Veja templates em `.github/ISSUE_TEMPLATE/` e `.github/pull_request_template.md`

## ğŸ“„ LicenÃ§a

Este projeto Ã© propriedade de NathÃ¡lia Valente.

## ğŸ’ Agradecimentos

Criado com carinho para mÃ£es e gestantes que merecem apoio, acolhimento e compreensÃ£o em sua jornada.

---

<div align="center">

**ğŸŒ¸ Nossa Maternidade** - [www.nossamaternidade.com.br](https://www.nossamaternidade.com.br/)

*Desenvolvido com â¤ï¸ pela equipe NathÃ¡lia Valente*

</div>
